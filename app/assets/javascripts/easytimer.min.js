var module,Timer=function(a){"use strict";function b(){return"undefined"!=typeof document}function c(){return z}function d(a,b){return(a%b+b)%b}function e(a,b,c){var d,e="";for(d=0;b>d;d+=1)e+=String(c);return(e+a).slice(-e.length)}function f(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.toString=function(a,b,c){a=a||["hours","minutes","seconds"],b=b||":",c=c||2;var d,f,g=[],h="";for(f=0;c>f;f+=1)h+="0";for(f=0;f<a.length;f+=1)void 0!==this[a[f]]&&g.push(e(this[a[f]],c,"0"));return d=g.join(b)}}function g(){function a(){return jb.countdown}function e(a,b){eb[a]+=b,fb[a]+=b}function g(a){e(x,a),T("daysUpdated")}function A(b){e(w,b),eb.hours=d(eb.hours,n),(a()&&eb.hours===n-1||!a()&&0===eb.hours)&&g(b),$===w&&(fb[v]+=a()?-k:k,fb[u]+=a()?-l:l,fb[t]+=a()?-m:m),T("hoursUpdated")}function B(b){e(v,b),eb.minutes=d(eb.minutes,k),(a()&&eb.minutes===k-1||!a()&&0===eb.minutes)&&A(b),$===v&&(fb[u]+=a()?-i:i,fb[t]+=a()?-j:j),T("minutesUpdated")}function C(b){e(u,b),eb.seconds=d(eb.seconds,i),(a()&&eb.seconds===i-1||!a()&&0===eb.seconds)&&B(b),$===u&&(fb[t]+=a()?-h:h),T("secondsUpdated")}function D(b){e(t,b),eb.secondTenths=d(eb.secondTenths,h),(a()&&eb.secondTenths===h-1||!a()&&0===eb.secondTenths)&&C(b),T("secondTenthsUpdated")}function E(){clearInterval(Z),Z=void 0,hb=!1,ib=!1}function F(){var a,b=y[$];switch($){case x:a=g;break;case w:a=A;break;case v:a=B;break;case t:a=D;break;default:a=C}Z=setInterval(function(){a(_),ab(eb),I()&&(T("targetAchieved"),O())},b),hb=!0,ib=!1}function G(){return eb.hours>bb[r]||eb.hours===bb[r]&&(eb.minutes>bb[q]||eb.minutes===bb[q]&&eb.seconds>=bb[p])}function H(){return eb.hours<bb[r]||eb.hours===bb[r]&&(eb.minutes<bb[q]||eb.minutes===bb[q]&&eb.seconds<=bb[p])}function I(){return bb instanceof Array&&(jb.countdown&&H()||!jb.countdown&&G())}function J(){for(var a in eb)eb.hasOwnProperty(a)&&"number"==typeof eb[a]&&(eb[a]=0);for(var a in fb)fb.hasOwnProperty(a)&&"number"==typeof fb[a]&&(fb[a]=0)}function K(a){$=a&&"string"==typeof a.precision?a.precision:u,ab=a&&"function"==typeof a.callback?a.callback:function(){},_=a&&a.countdown===!0?-1:1,db=a&&1==a.countdown,a&&"object"==typeof a.target&&M(a.target),a&&"object"==typeof a.startValues&&N(a.startValues),bb=bb||!db?bb:[0,0,0,0,0],jb={precision:$,callback:ab,countdown:"object"==typeof a&&1==a.countdown,target:bb,startValues:cb}}function L(a){var b,c,d,e,f,g;if("object"==typeof a)if(a instanceof Array){if(5!=a.length)throw new Error("Array size not valid");g=a}else g=[a.secondTenths||0,a.seconds||0,a.minutes||0,a.hours||0,a.days||0];for(var j=0;j<a.length;j+=1)a[j]<0&&(a[j]=0);return b=g[o],c=g[p]+Math.floor(b/h),d=g[q]+Math.floor(c/i),e=g[r]+Math.floor(d/k),f=g[s]+Math.floor(e/n),g[o]=b%h,g[p]=c%i,g[q]=d%k,g[r]=e%n,g[s]=f,g}function M(a){bb=L(a)}function N(a){cb=L(a),eb.secondTenths=cb[o],eb.seconds=cb[p],eb.minutes=cb[q],eb.hours=cb[r],eb.days=cb[s],fb.days=eb.days,fb.hours=fb.days*n+eb.hours,fb.minutes=fb.hours*k+eb.minutes,fb.seconds=fb.minutes*i+eb.seconds,fb.secondTenths=fb.seconds*h+eb.secondTenths}function O(){E(),J(),T("stopped")}function P(a){if(this.isRunning())throw new Error("Timer already running");this.isPaused()||K(a),I()||(F(),T("started"))}function Q(){E(),ib=!0,T("paused")}function R(a,d){b()?gb.addEventListener(a,d):c()&&gb.on(a,d)}function S(a,d){b()?gb.removeEventListener(a,d):c()&&gb.removeListener(a,d)}function T(a){b()?gb.dispatchEvent(new Event(a)):c()&&gb.emit(a)}function U(){return hb}function V(){return ib}function W(){return eb}function X(){return fb}function Y(){return jb}var Z,$,_,ab,bb,cb,db,eb=new f,fb=new f,gb=b()?document.createElement("span"):c()?new z.EventEmitter:void 0,hb=!1,ib=!1,jb={};"undefined"!=typeof this&&(this.start=P,this.pause=Q,this.stop=O,this.isRunning=U,this.isPaused=V,this.getTimeValues=W,this.getTotalTimeValues=X,this.getConfig=Y,this.addEventListener=R,this.removeEventListener=S)}var h=10,i=60,j=600,k=60,l=3600,m=36e3,n=24,o=0,p=1,q=2,r=3,s=4,t="secondTenths",u="seconds",v="minutes",w="hours",x="days",y={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},z=a&&a.exports?require("events"):void 0;return a&&a.exports?a.exports=g:"function"==typeof define&&define.amd&&define([],function(){return g}),g}(module);